function T(e,t){return t==="out"?r=>1-e(1-r):t==="in-out"?r=>r<.5?e(r*2)/2:1-e((1-r)*2)/2:e}var Ee=1.70158;function ye(e){return T(t=>t*t*((Ee+1)*t-Ee),e)}function xe(e){return t=>1-e(1-t)}function Re(e,t){return t=+(t||t===0?t:7.5625),T(xe(r=>r<.36363636?t*r*r:r<.72727273?t*(r-=.545455)*r+.75:r<.90909091?t*(r-=.818182)*r+.9375:t*(r-=.954545)*r+.984375),e)}function v(e){return e}var lt=19,ne=(e,t,r)=>{let i=1-r;return((i*e+r*t)*3*i+r*r)*r},Ne=(e,t,r,i)=>(e=+e,t=+t,r=+r,i=+i,e<0||e>1||r<0||r>1?v:o=>{if(o<=0||o>=1)return o;let n=0,s=1,u=lt,m,a;do{if(m=.5*(n+s),a=ne(e,r,m),Math.abs(o-a)<1e-4)return ne(t,i,m);a<o?n=m:s=m}while(--u);return m=.5*(n+s),ne(t,i,m)});function Ae(e){return e=+(e||e===0?e:2),t=>{t=t*e;let r=~~t;return r%2?1-t+r:t-r}}function je(e){return e=+(e||e===0?e:2),t=>(t=t*e,t===e?1:t-~~t)}var F=/^\s*[\(\),\/\s]\s*/,Ce=/^\(/,Se=/^\)/,Pe=/^#[a-f\d]{3,6}/i,V=/^[a-z][a-z\d\-]*/i,H=/^\-?\d*\.?\d+/,D=/^\-?\d*\.?\d+[a-z%]+/i,Me=/^[mhvlcsqt]/i;function A(e,t){e.match="",e.pos=e.last=e.state=0,e.pattern=t}function f(e,t){let r=t.exec(e.pattern.substring(e.pos));return r&&(e.match=r[0],e.last=e.pos,e.pos+=e.match.length),r!=null}function S(e){let t={},r=[];return o=>{let n=t[o];if(n==null)n=e(o),r.length>=1e3&&(delete t[r[0]],r.unshift()),t[o]=n,r.push(o);else{let s=r.indexOf(o);s===0&&(r.splice(s,1),r.push(o))}return n}}function ct(e){let t=parseInt(e.length===3?e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e,16),r=t>>16&255,i=t>>8&255,o=t&255;return`rgba(${r},${i},${o},1)`}var Ie=S(ct);function P(e){if(f(e,Se))return 18;if(f(e,Ce))return 10;if(f(e,F))return 2;if(e.isPath&&f(e,Me)||f(e,V)){if(!(!e.isPath&&e.pos<e.pattern.length-1&&e.pattern[e.pos]==="("))return 4;if(e.match.toLowerCase()==="rgb"){let r=e.pattern.substring(e.pos),i=r.indexOf(")"),o=r.substring(1,i);e.pattern=e.pattern.substring(0,e.pos+1+o.length)+",1"+e.pattern.substring(e.pos+1+o.length),e.match="rgba"}return 32}if(!e.isPath&&f(e,D))return 5;if(f(e,H))return 1;if(f(e,Pe)){let t=e.pattern.substring(e.last+1,e.pos);return e.pattern=e.pattern.substring(0,e.last)+Ie(t)+e.pattern.substring(e.pos),e.pos=e.last,P(e)}}var p={},k={};function gt(e){A(k,e);let t,r=v,i=!1,o,n=[];for(;;){if(t=P(k),!t){r=ae(r,o,n);break}t===18?(r=ae(r,o,n),o=void 0,i=!1,n.length=0):i&&(t&1||t&4)?n.push(k.match):t===4?r=ae(r,k.match):t===32&&(o=k.match,i=!0)}return r}function ae(e,t,r){if(!t)return e;let i=p[t];if(!i)return e;let o=i.apply(0,r);return n=>o(e(n))}var Y=S(gt);var O=[];function _e(){ht()}function z(e){O.indexOf(e)===-1&&O.push(e)}function ht(){let e=performance.now();for(let t=0;t<O.length;t++)O[t](e)||(O.splice(t,1),t--)}function ke(e,t){return t=+(t||t===0?t:2),T(r=>Math.pow(r,t),e)}function Oe(e){return T(t=>-Math.cos(t*Math.PI/2)+1,e)}function Le(e,t){let r=t==="end"?Math.floor:Math.ceil;return i=>{let o=r(i*+e)/+e;return o<0?0:o>1?1:o}}function Ge(e,t){return e-t}function M(e,t,r){return Math.min(Math.max(e,t),r)}function we(e,t){let r=0;for(;r<e.length&&!(e[r]>=t);)r++;return r}function se(e){return typeof e=="number"||isFinite(+e)}function Ue(e){return+e}var L="idle",B="paused",x="running",R="finish",I="cancel";var bt=1e3/60,j=[],me,K=[];function N(e){return j.length||(me=performance.now(),z(dt)),j.indexOf(e)===-1&&j.push(e),e}function dt(e){let t=M(e-me,0,bt*2);me=e;let r=j.slice();for(let n of r)Et(n);for(let n of r)yt(t,n);for(let n of r)n.playState===I?n.playState=L:n.playState===R&&(n.playState=B);let i=[];for(let n of r){for(let s of n.events)if(n.listeners){let u=n.listeners[s];u&&u.length&&Array.prototype.push.apply(i,u)}n.events.length=0}let o=[];for(let n of r)for(let s of K)s(n,o);for(let n=j.length-1;n>-1;n--)r[n].playState!==x&&j.splice(n,1);for(let n of o)n();for(let n of i)n(e);return!!j.length}function Et(e){if(e.playState===x){let t=e.playbackRate<0,r=e.duration*e.iterations;(t&&e.currentTime<=1||!t&&e.currentTime>=r-1)&&(e.playState=R,e.events.push(R))}}function yt(e,t){t.iterations=M(t.iterations,1,86400*7);let i=t.duration*t.iterations;t.playState===I?(t.currentTime=0,t.playbackRate=1):t.playState===R?t.currentTime=t.playbackRate<0?0:i:t.playState===x&&(t.currentTime+=e*t.playbackRate),t.currentTime=M(t.currentTime,0,i)}var xt=0,b=class e{get duration(){let t=0;for(let r in this.keyframes){let i=this.keyframes[r];for(let o in i)for(let n in i[o])t<+n&&(t=+n)}return t}constructor(t){let r=this;if(!(r instanceof e))return new e(t);r.id="_"+ ++xt,r.alternate=!1,r.currentTime=0,r.events=[],r.iterations=1,r.keyframes={},r.labels={},r.listeners={},r.playState=x,r.playbackRate=1,t&&r.configure(t),r.id.indexOf("_")}cancel(){return this.playState=I,this.events.push(I),N(this)}configure(t){for(let r in t)typeof this[r]!="function"&&r!=="duration"&&(this[r]=t[r]);return N(this)}finish(){return this.playState=R,this.events.push(R),N(this)}getConfig(){let t={};for(let r in this)if(r[r.length-1]!=="_"){let i=this[r];typeof i!="function"&&(t[r]=i)}return t}getEventGroup_(t){let r=this.listeners[t];return r||(r=this.listeners[t]=[]),r}getPosition_(t){return t&&typeof t!="number"&&(t=this.labels[t]),t}label(t,r){return this.labels[t]=r===void 0?this.duration:r,this}off(t,r){let i=this.getEventGroup_(t),o=i.indexOf(r);return o!==-1&&i.splice(o,1),this}on(t,r){let i=this.getEventGroup_(t);return i.indexOf(r)===-1&&i.push(r),this}pause(){return this.playState=B,this.events.push("pause"),N(this)}play(){return this.playState=x,this.events.push("play"),N(this)}seek(t){return t=this.getPosition_(t),(t||t===0)&&(this.currentTime=t),this.playState!==x?this.pause():N(this)}update(){return N(this)}};var Rt=2*Math.PI;function Xe(e,t,r,i){t=+(t||t===0?t:1),r=+(r||r===0?r:.4),i=+(i||i===0?i:4);let o=r/i;return T(n=>n===0||n===1?n:-t*Math.pow(2,10*(n-1))*Math.sin((n-1-o)*Rt/r),e)}function ve(e,t){return e.getAttribute(t)||""}function Fe(e,t,r){e.setAttribute(t,r.toString())}function Ve(e,t){return e.style.getPropertyValue(t)}function He(e,t,r){e.style.setProperty(t,r.toString())}function De(e,t){return e.style[t]||getComputedStyle(e)[t]}function $e(e,t,r){e.style[t]=r}function Ye(e,t){return e[t]}function ze(e,t,r){e[t]=r}function Be(e){if(f(e,F))return 2;if(f(e,H))return 1;if(f(e,D))return 5;if(f(e,V))return 32}var q={};function Nt(e){A(q,e);let t,r,i=0,o="";for(;t=Be(q),!!t;){if(t===32&&(r=q.match.toLowerCase(),i=0),t!==5&&t!==1){o+=q.match;continue}r==="matrix"?o+=i%3?"0":"1":r==="matrix3d"?o+=i%5?"0":"1":/scale([xyz]|3d)?/i.test(r)?o+="1":o+="0",i++}return o}var Ke=S(Nt);var At=/([a-z%]+)/i,qe=/^m[\s,]*-?\d*\.?\d+/i,We=/(perspective|matrix(3d)?|skew[xy]?|(translate|scale|rotate)([xyz]|3d)?)\(/i;function Qe(e,t,r){return se(e)&&se(t)?ue(+e,+t,r):(We.test(t.toString())&&!We.test(e.toString())&&(e=Ke(t.toString())),e==null&&(e=""),t==null&&(t=""),jt(e.toString(),t.toString(),r))}var W={},Q={};function jt(e,t,r){A(W,e),A(Q,t),W.isPath=qe.test(e),Q.isPath=qe.test(t);let i="",o=0,n,s;for(;n=P(W),s=P(Q),!(!n||!s);){let u=W.match,m=Q.match;if(n===1&&s===1){let a;o?(a=Ct(+u,+m,r),o--):a=ue(+u,+m,r),i+=a}else if(n===5||s===5){let c=At.exec(n===5?u:m)[1],d=c==="px",G=parseFloat(u),C=parseFloat(m),E=ue(G,C,r,d);i+=E+c}else{let a=r<.5?u:m;n===32&&s===32&&(a==="rgb"||a==="rgba")&&(o=3),i+=a}}return i}function ue(e,t,r,i){let o=e+(t-e)*r;return i?Math.round(o):o}function Ct(e,t,r){return Math.round(Math.sqrt(Math.min(Math.max(0,(e*e+t*t)*r),255*255)))}var Ze=0,fe=1,pe=2,le=3,St=["viewBox"],Pt=["innerHTML","textContent"];function Je(e,t){return typeof e.tagName=="string"&&e.style?t.indexOf("--")===0?fe:St.indexOf(t)!==-1?pe:Pt.indexOf(t)!==-1?Ze:le:Ze}function et(e){return e===pe?ve:e===fe?Ve:e===le?De:Ye}function tt(e){return e===pe?Fe:e===fe?He:e===le?$e:ze}function rt(e){return Qe}var l="__just_cache";function nt(e,t){t[l]&&t[l][e]&&delete t[l][e]}function ce(e,t,r){if(t[l]&&t[l][e])return t[l][e][r]}function it(e,t,r,i){t[l]||(t[l]={}),t[l][e]||(t[l][e]={}),t[l][e][r]=i}function Z(e,t){if(!t)return[];if(t.indexOf("@")!==0)return Array.prototype.slice.call(document.querySelectorAll(t));let r=e.targets[t];if(!r)throw Error("Target "+t+" not configured.");return typeof r.length=="number"?r:[r]}function ot(e,t){let{currentTime:r,playState:i,id:o}=e,n=r%e.duration;for(let s in e.keyframes){let u=e.keyframes[s],m=Z(e,s);for(let a in u){let c=u[a],d=It(c),G=m.length;for(let C=0;C<G;C++){let E=m[C],J=Je(E,a),Te=tt(J);if(i!==L){let w=et(J),st=rt(J),ee=w(E,a),ge=we(d,n),U=M(ge,0,d.length-1),X=U!==ge?U:U-1,mt=X<0?0:d[X],he=d[U],_=c[he],ut=_.value,ft=Y(_.$ease||""),be=c[d[X]],te;if(X<0||!be){let re=ce(o,E,a);re==null&&(re=ee,it(o,E,a,ee)),te=re}else te=be.value;let pt=ft(Mt(mt,he,n,C,G,_.$stagger||0,_.$delay||0,_.$endDelay||0)),de=st(te,ut,pt);ee!==de&&t.push(()=>Te(E,a,de))}else{let w=ce(o,E,a);w!=null&&Te(E,a,w)}}}for(let a of m)i===L&&nt(o,a)}}function Mt(e,t,r,i,o,n,s,u){let m=e,a=t;if(s&&(m+=s),u&&(a-=u),n){let c=Math.abs((i+1)*n),d=Math.abs(o*n);m+=c,a-=d-c}return r<=m?0:r>=a?1:(r-m)/(a-m)}function It(e){return Object.keys(e).map(Ue).sort(Ge)}function at(e,t){}function _t(e,t,r){let i=this.getPosition_(r.$from);if(i==null&&(i=this.duration),typeof e!="string"){let n=Gt(this.targets,e);n||(this.targetIds||(this.targetIds=0),n="@_object_"+ ++this.targetIds,this.target(n,e)),e=n}r.$delay&&(t+=r.$delay),r.$endDelay&&(t+=r.$endDelay),r.$stagger&&(t+=Z(this,e).length*r.$stagger);let o=this.keyframes[e];o||(o=this.keyframes[e]={});for(let n in r){let s=r[n];if(n[0]!=="$"&&(s||s===0)){let u=o[n];u||(u=o[n]={});let m={value:s};for(let a in r)a[0]==="$"&&r[a]&&(m[a]=r[a]);u[i+t]=m}}return this.update()}function kt(e){return this.animate("",e,{"":0})}function Ot(e,t){return t.$ease="steps(1,end)",this.animate(e,0,t)}function Lt(e,t){return this.targets||(this.targets={}),this.targets[e]=t,this.update()}function Gt(e,t){if(e){for(let r in e)if(t===e[r])return r}}b.prototype.animate=_t;b.prototype.delay=kt;b.prototype.set=Ot;b.prototype.target=Lt;p.back=ye;p.bounce=Re;p["cubic-bezier"]=Ne;p.elastic=Xe;p.power=ke;p.repeat=je;p.sine=Oe;p.steps=Le;p.yoyo=Ae;K.push(at);K.push(ot);function wt(e,t,r){return new b().animate(e,t,r)}var Pn={animate:wt,eases:p,getEase:Y,nextAnimationFrame:_e,Timeline:b,tick:z};export{Pn as just};
//# sourceMappingURL=index.js.map
